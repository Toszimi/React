<template>
  <div>
    <!--查询框插槽定义域-->
    <div>
      <slot name="condition"></slot>
    </div>
    <div>
      <!--table表格操作组件-->
      <el-table ref="multipleTable" :data="totalData" tooltip-effect="dark" row-key="id" style="width: 100%" :border="borderfalse" :tree-props="children">
        <el-table-column label="序号" width="100">
          <template slot-scope="scope">
            <span>{{ (currentPage4 - 1) * currrntlimit + scope.$index + 1 }}</span>
          </template>
        </el-table-column>
        <el-table-column type="selection" width="55" v-if="selection"></el-table-column>
        <!--这里是关键，封装成组件，其实就是每个引入该组件的组件，一定要封装好，然后传入表头和表 
          头对应数据的字段，然后根据总表格数据一一自动匹配显示， 
          propsSelectData.multiSelectDialogTestData  
          就是父组件传过来的封装好的 表头+表头对应显示字段 -->
        <el-table-column v-for="(item,index) in multiSelectDialogTestData" :key="index" :prop="item.roleData" :label="item.title" show-overflow-tooltip mini-width="150">

        </el-table-column>
        <el-table-column label="操作">
          <template slot-scope="scope">
            <slot name="btnc" :scope="scope.row"></slot>
          </template>
        </el-table-column>
      </el-table>
      <!--分页操作组件-->
    </div>
    <div class="block">
      <el-pagination @size-change="handleSizeChange" @current-change="handleCurrentChange(page)" :current-page.sync="page" :page-sizes="[100, 200, 300, 400]" :page-size="currrntlimit" layout="total, sizes, prev, pager, next, jumper" :total="400">
      </el-pagination>
    </div>
  </div>
</template>
<script>
export default {
  //组件引入
  props: {
    totalData: Array,
    multiSelectDialogTestData: Array,
    borderfalse: Boolean,
    currentPage4: Number,
    currrntlimit: Number,
    selection: Boolean,//判断是否显示多选框
  },
  data() {
    return {
      page: null,
      children: { children: 'children' }
    }
  },
  mounted() {
    this.$nextTick(() => {
      this.page = this.currentPage4
    })
  },
  methods: {
    handleSelectionChange() { },
    handleCurrentChange(currentPage4) {
      this.$emit('getList', currentPage4)
    },
    handleSizeChange() { }
  }
}
</script>